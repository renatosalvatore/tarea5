{"ast":null,"code":"var _jsxFileName = \"/Users/renatosalvatoremoya/Documents/rsml/utel/UCamp/2023/Dev_Full_Stack/Tareas de Proyectos RSML/proyecto5/frontend/src/components/Login/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { Button } from 'react-bootstrap';\nimport '../Login/Login.css';\nimport { UserContext } from '../../Context/UserContext';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const {\n    auth,\n    login\n  } = useContext(UserContext);\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const navigate = useNavigate();\n  async function onSave(event) {\n    event.preventDefault();\n    await fetch(\"http://localhost:3002/api/auth/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    }).then(resp => resp.json()).then(result => {\n      login(form.email, result.token);\n      Swal.fire(\"Usuario Loggeado\");\n      navigate('/Productos');\n    }).catch(error => {\n      Swal.fire(error);\n    });\n  }\n  function onChange(event) {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  }\n  useEffect(() => {\n    if (auth.token) {\n      navigate('/reservaciones');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formContent\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"form-reserva\",\n          onSubmit: onSave,\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            name: \"email\",\n            value: form.email,\n            onChange: onChange,\n            placeholder: \"Escribe tu correo electronico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            name: \"password\",\n            value: form.password,\n            onChange: onChange,\n            placeholder: \"Escribe contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"formButton\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"eZlp9pfw6PRv0veCGRo0w42TlI8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Form","Button","UserContext","useNavigate","Swal","jsxDEV","_jsxDEV","Login","_s","auth","login","form","setForm","email","password","navigate","onSave","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","result","token","fire","catch","error","onChange","target","name","value","children","className","onSubmit","Label","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/renatosalvatoremoya/Documents/rsml/utel/UCamp/2023/Dev_Full_Stack/Tareas de Proyectos RSML/proyecto5/frontend/src/components/Login/Login.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { Button } from 'react-bootstrap'; \nimport '../Login/Login.css'\nimport { UserContext } from '../../Context/UserContext';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\n\nfunction Login() {\n    const {auth, login} = useContext(UserContext);\n    const [form, setForm] = useState({\n        email: \"\",\n        password: \"\"\n    })\n\n    const navigate = useNavigate();\n    \n    \n    async function onSave(event) {\n        event.preventDefault()\n        \n        await  fetch(\"http://localhost:3002/api/auth/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(form)\n        })\n        .then(resp => resp.json())\n        .then(result =>  {\n            \n            login(form.email, result.token)\n            Swal.fire(\"Usuario Loggeado\")\n            navigate('/Productos')\n        }).catch(error =>{\n            Swal.fire(error)\n        })\n\n    }\n\n    function onChange(event) {\n        setForm({ ...form, [event.target.name]: event.target.value });\n    }\n\n    useEffect(() =>{\n        if(auth.token){\n            navigate('/reservaciones')\n        }\n    },[])\n\n  return (\n    <div>\n\n<div className=\"wrap\">\n                <div className=\"formContent\">\n                    <Form className='form-reserva' onSubmit={onSave}>\n                        <Form.Label>email</Form.Label>\n                        <Form.Control type=\"email\" name='email' value={form.email} onChange={onChange} placeholder=\"Escribe tu correo electronico\" />\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" name='password' value={form.password} onChange={onChange} placeholder=\"Escribe contraseÃ±a\" />\n                                          \n                        <Button type=\"submit\" className='formButton'>\n                            Submit\n                        </Button>\n                    </Form>\n                </div>\n            </div>\n    </div>\n  )\n}\n\nexport default Login\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}